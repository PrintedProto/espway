<!doctype html>

<html>
    <head>
        <meta charset='utf-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no' />

        <title>ESPway</title>

        <style>
            body, html {
                margin: 0;
                padding: 0;
            }

            body, button {
                background-color: white;
                color: #334;
                font-family: monospace;
                margin: 0 auto;
            }

            .mainContainer {
                margin: 0 auto;
                padding: 1em;
                width: 320px;
            }

            .mainContainer > select {
                width: 100%;
            }
        </style>
    </head>

    <body>

        <div class='mainContainer'>
            <h3>PID tuning</h3>

            <select>
                <option>Angle PID</option>
                <option>Angle PID 2</option>
                <option>Velocity PID</option>
            </select>

            <my-slider id='pslider' label='P' bound-min='-3' bound-max='2' my-value='0.001'></my-slider>
            <my-slider id='islider' label='I' bound-min='-3' bound-max='2'></my-slider>
            <my-slider id='dslider' label='D' bound-min='-4' bound-max='1'></my-slider>

        </div>

        <script type='riot/tag' src='slider.tag'></script>
        <script src='riot+compiler.min.js.gz'></script>
        <script>
            window.addEventListener('load', () => {
                'use strict'

                let byId = id => document.getElementById(id)
                let ws = new WebSocket('ws://192.168.4.1/ws')
                ws.binaryType = 'arraybuffer'

                function onSliderChange(value) {
                    console.log('value changed: ' + value)
                }

                riot.mount('#pslider', {
                    onChange: onSliderChange
                })
            })
        </script>
    </body>
</html>

